@use '../../../../styles/fonts.scss' as fonts;

.header_panel_container {
  width: 100%;
  height: 80px;
  overflow: hidden;
  background-color: var(--pr-color-secondary-300);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 15px 30px;
}

.logo_container {
  display: flex;
  gap: 20px;
  cursor: pointer;

  .cgiar_logo {
    width: 50px;
  }
}

.logo_content {
  @include fonts.pr-typography('h4');
  color: var(--pr-color-white);
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: center;

  p {
    margin: 0;
  }

  .logo_platform_name {
    @include fonts.pr-typography('h4');
    font-weight: 600;
    margin: 0;
  }

  .logo_platform_name_secondary {
    @include fonts.pr-typography('body-3');
    font-weight: 300;
  }
}

.information {
  display: flex;
  align-items: center;
  gap: 20px;
}

.overlay_panel {
  border-radius: 15px;
  background-color: var(--pr-color-white);
  box-shadow: 4px 4px 10px 4px rgba(var(--pr-color-black-rgb), 0.251);
  margin-top: 10px;

  .overlay_panel_header {
    display: flex;
    align-items: center;
    padding: 14px 14px 0;

    .overlay_panel_header_title {
      margin: 0;
      @include fonts.pr-typography('h3');
    }

    .overlay_panel_header_userInfo {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .overlay_panel_header_userInfo_content {
      display: flex;
      flex-direction: column;

      .overlay_panel_header_userInfo_content_name {
        margin: 0;
        @include fonts.pr-typography('h4');
        font-weight: 600;
      }

      .overlay_panel_header_userInfo_content_email {
        margin: 0;
        @include fonts.pr-typography('body-3');
        font-weight: 300;
        color: var(--pr-color-accents-5);
      }
    }
  }

  .overlay_panel_userInfo_content {
    display: flex;
    flex-direction: column;
    gap: 14px;
    padding: 14px 14px 11px;

    .overlay_panel_userInfo_content_item {
      display: flex;
      flex-direction: column;
      gap: 4px;
      color: var(--pr-color-secondary-300);

      h1,
      p {
        margin: 0;
      }

      .overlay_panel_userInfo_content_item_title {
        @include fonts.pr-typography('body-3');
        font-weight: 300;
        color: var(--pr-color-accents-5);
      }

      .overlay_panel_userInfo_content_item_desc {
        @include fonts.pr-typography('body-2');
        font-weight: 500;
      }
    }
  }

  .no_notifications {
    font-weight: 500;
    text-wrap: pretty;
    padding: 10px 14px;
  }

  .notifications_list {
    display: flex;
    flex-direction: column;
    overflow: auto;
    max-height: 500px;
    scrollbar-width: thin;
    scrollbar-color: var(--pr-color-primary-300) var(--pr-color-primary-25);

    &::-webkit-scrollbar {
      width: 2px;
      height: 2px;
    }

    &::-webkit-scrollbar-thumb {
      background-color: var(--pr-color-primary-300);
      border-radius: 10px;
    }

    &::-webkit-scrollbar-track {
      background-color: var(--pr-color-primary-25);
    }

    @media (max-height: 800px) {
      max-height: 400px;
    }

    .notification {
      padding: 15px 14px 10px;
      background-color: var(--pr-color-primary-25);
      border-bottom: 1px solid var(--pr-color-primary-300);
    }
  }

  .overlay_panel_footer {
    padding-top: 5px;
    padding-bottom: 15px;
    display: flex;
    justify-content: center;
    align-items: center;

    .see_all_notifications {
      cursor: pointer;
      font-weight: 400;
      color: var(--pr-color-primary-300);
      margin: 0;
      width: fit-content;
    }
  }

  .footer_userInfo {
    padding: 5px 14px 15px;
    justify-content: flex-start;
    gap: 5px;
    width: fit-content;
    cursor: pointer;

    .logout_icon {
      font-size: 15px;
      color: var(--pr-color-red-300);
    }

    .logout_button {
      @include fonts.pr-typography('body-2');
      font-weight: 400;
      color: var(--pr-color-red-300);
      margin: 0;
    }
  }

  .overlay_panel_separator {
    width: 100%;
    height: 1px;
    background-color: var(--pr-color-neutral-1000);
    margin: 10px 0;
  }
}

.info_icon {
  color: var(--pr-color-white);
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  font-size: 28px;
}

::ng-deep {
  .p-overlaybadge {
    height: 24px !important;
  }

  .p-avatar-text {
    font-size: 14px !important;
  }
}

.animate_bell {
  transform-origin: 50% 4px;
  animation: ring 4s 0.7s ease-in-out 2;
}

@media (prefers-reduced-motion: reduce) {
  .animate_bell {
    animation: none;
  }
}

@keyframes ring {
  0% {
    transform: rotate(0);
  }

  1% {
    transform: rotate(30deg);
  }

  3% {
    transform: rotate(-28deg);
  }

  5% {
    transform: rotate(34deg);
  }

  7% {
    transform: rotate(-32deg);
  }

  9% {
    transform: rotate(30deg);
  }

  11% {
    transform: rotate(-28deg);
  }

  13% {
    transform: rotate(26deg);
  }

  15% {
    transform: rotate(-24deg);
  }

  17% {
    transform: rotate(22deg);
  }

  19% {
    transform: rotate(-20deg);
  }

  21% {
    transform: rotate(18deg);
  }

  23% {
    transform: rotate(-16deg);
  }

  25% {
    transform: rotate(14deg);
  }

  27% {
    transform: rotate(-12deg);
  }

  29% {
    transform: rotate(10deg);
  }

  31% {
    transform: rotate(-8deg);
  }

  33% {
    transform: rotate(6deg);
  }

  35% {
    transform: rotate(-4deg);
  }

  37% {
    transform: rotate(2deg);
  }

  39% {
    transform: rotate(-1deg);
  }

  41% {
    transform: rotate(1deg);
  }

  43% {
    transform: rotate(0);
  }

  100% {
    transform: rotate(0);
  }
}

.info_icon:focus-visible,
.overlay_panel_footer .see_all_notifications:focus-visible,
.overlay_panel .footer_userInfo:focus-visible {
  outline: 2px solid var(--pr-color-primary-300);
  outline-offset: 2px;
  border-radius: 6px;
}

@media (max-width: 768px) {
  .header_panel_container {
    padding: 10px 16px;
  }

  .logo_container {
    gap: 12px;

    .cgiar_logo {
      width: 40px;
    }
  }

  .information {
    gap: 12px;
  }
}
