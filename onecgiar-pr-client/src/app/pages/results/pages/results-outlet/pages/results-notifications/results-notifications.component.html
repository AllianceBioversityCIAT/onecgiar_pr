<div class="local_container" style="padding: 20px 50px 50px 50px">
  <h1 class="notifications_title">Notifications</h1>

  <div class="options">
    <div class="tabs">
      <a class="tab" routerLinkActive="active" routerLink="requests" (click)="this.clearFilters()">
        <i class="material-icons-round" style="font-size: 20px"> mark_unread_chat_alt </i>
        Requests
      </a>

      <a class="tab" routerLinkActive="active" routerLink="updates" (click)="this.clearFilters()">
        <i class="material-icons-round" style="font-size: 20px"> pending_actions </i>
        Updates
      </a>
    </div>

    <div class="tabs">
      <a
        class="tab"
        [ngClass]="{ active: router.url.includes('/results-notifications/settings') }"
        routerLink="settings"
        [queryParams]="{ init: this.api.dataControlSE?.myInitiativesList[0]?.id }"
        style="padding: 8px">
        <i class="pi pi-cog" style="font-size: 22px; font-weight: 500"></i>
      </a>
    </div>
  </div>

  <div class="line"></div>

  <p class="request_description" *ngIf="router.url.includes('/results-notifications/requests')">
    In this section, there are requests that any entity has made to your entity(ies) for collaboration on a result. Please note that it will now be
    possible to send, accept or reject request even if the result has already been submitted.
  </p>

  <p class="request_description" *ngIf="router.url.includes('/results-notifications/updates')">
    In this section, there are updates on any results to which your entity(ies) are contributing.
  </p>

  <div class="notifications_filters" *ngIf="!router.url.includes('/results-notifications/settings')">
    <div>
      <app-pr-field-header label="Phases"></app-pr-field-header>
      <p-select
        [options]="this.phaseList"
        optionLabel="phase_name_status"
        optionValue="id"
        placeholder="Select phase"
        [style]="{ width: '100%' }"
        [(ngModel)]="this.resultsNotificationsSE.phaseFilter"
        (ngModelChange)="onPhaseChange($event)">
      </p-select>
    </div>

    <div *ngIf="this.resultsNotificationsSE.hideInitFilter">
      <app-pr-field-header [label]="entityLabel"></app-pr-field-header>
      <p-select
        [options]="this.filteredInitiatives"
        optionLabel="full_name"
        optionValue="initiative_id"
        [placeholder]="'Select ' + entityLabel"
        [(ngModel)]="this.resultsNotificationsSE.initiativeIdFilter"
        [filter]="true"
        [style]="{ width: '100%' }">
        <ng-template #selectedItem let-selectedOption>
          <div [innerHtml]="selectedOption.full_name"></div>
        </ng-template>
        <ng-template let-item #item>
          <div [innerHtml]="item.full_name"></div>
        </ng-template>
      </p-select>
    </div>

    <div>
      <app-pr-field-header label="Search"></app-pr-field-header>
      <input type="text" pInputText placeholder="Search" [(ngModel)]="this.resultsNotificationsSE.searchFilter" [style]="{ width: '100%' }" />
    </div>

    <div class="clear_filters_container">
      <app-pr-button
        [text]="'Clear filters'"
        [verticalMargin]="0.5"
        icon="filter_list_off"
        [colorType]="'primary'"
        [reverse]="true"
        (click)="clearAllFilters()"></app-pr-button>
    </div>
  </div>

  <router-outlet></router-outlet>
</div>
