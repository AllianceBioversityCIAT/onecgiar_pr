<p>whats-new-page-details works!</p>
<p>{{ notionPageId() }}</p>

@if (whatsNewService.notionDataLoading()) {
  <p>Loading...</p>
} @else {
  <div class="whats-new-page-details_container">
    @for (item of whatsNewService.activeNotionPageData().blocks; track item.id) {
      @switch (item.type) {
        @case ('callout') {
          @let text = joinText(item?.callout?.rich_text);
          @let icon = item?.callout?.icon?.emoji;

          <div class="whats-new-page-details_callout">
            @if (icon) {
              <p class="whats-new-page-details_callout_icon">{{ icon }}</p>
            }
            @if (text) {
              <p class="whats-new-page-details_callout_text" [innerHTML]="text"></p>
            }
          </div>
        }

        @case ('heading_1') {
          @let text = joinText(item?.heading_1?.rich_text);
          @if (text) {
            <h1 class="whats-new-page-details_heading_1" [innerHTML]="text"></h1>
          }
        }

        @case ('heading_2') {
          @let text = joinText(item?.heading_2?.rich_text);
          @if (text) {
            <h2 class="whats-new-page-details_heading_2" [innerHTML]="text"></h2>
          }
        }

        @case ('heading_3') {
          @let text = joinText(item?.heading_3?.rich_text);
          @if (text) {
            <h3 class="whats-new-page-details_heading_3" [innerHTML]="text"></h3>
          }
        }

        @case ('paragraph') {
          @let text = joinText(item?.paragraph?.rich_text);

          @if (text) {
            <p class="whats-new-page-details_paragraph" [innerHTML]="text"></p>
          }
        }

        @case ('bulleted_list_item') {
          @let text = joinText(item?.bulleted_list_item?.rich_text);
          @if (text) {
            <ul>
              <li class="whats-new-page-details_bulleted_list_item" [innerHTML]="text"></li>
            </ul>
          }
        }
      }
    }
  </div>
}
