<div class="entity-details_breadcrumb">
  <span class="entity-details_breadcrumb_homeLink" routerLink="/result-framework-reporting/home"> Science programs </span>
  <i class="pi pi-chevron-right entity-details_breadcrumb_separator"></i>
  <div class="entity-details_title_container">
    <span class="entity-details_breadcrumb_link"> {{ entityAowService.entityId() }} - </span>
    @if (entityAowService.isLoadingDetails()) {
      <p-skeleton width="200px" height="21px" />
    } @else {
      <span class="entity-details_breadcrumb_link"> {{ entityAowService.entityDetails()?.shortName ?? 'No information loaded' }} </span>
    }
  </div>
</div>

<div class="entity-details_header">
  <div class="entity-details_title_container">
    <h1 class="entity-details_title">{{ entityAowService.entityId() }} -</h1>
    @if (entityAowService.isLoadingDetails()) {
      <p-skeleton width="200px" height="30px" />
    } @else {
      <h1 class="entity-details_title">{{ entityAowService.entityDetails()?.shortName ?? 'No information loaded' }}</h1>
    }
  </div>
  <p class="entity-details_description">Overview of progress and access to detailed Areas of Work and Results for this Science Program.</p>
</div>

<div class="entity-details_container">
  <div class="entity-details_card">
    <div class="entity-details_card_header">General insights</div>

    <div class="entity-details_card_content_graph"></div>
  </div>

  <div class="entity-details_cards">
    <div class="entity-details_card">
      <div class="entity-details_card_header">Areas of work</div>

      <div class="entity-details_card_content">
        @if (entityAowService.isLoadingDetails()) {
          @for (item of [0, 1, 2]; track $index) {
            <p-skeleton width="100%" height="125px" />
          }
        } @else {
          @if (entityAowService.entityAows().length > 0) {
            @for (item of entityAowService.entityAows(); track $index) {
              <app-entity-aow-card [item]="item"></app-entity-aow-card>
            }
          } @else {
            <h1 class="entity-details_card_content_empty">No areas of work found for this science program</h1>
          }
        }
      </div>
    </div>

    <div class="entity-details_card">
      <div class="entity-details_card_header">Results by indicator category</div>

      <div class="entity-details_card_content">
        @for (item of entityResultsByIndicatorCategory(); track $index) {
          <app-entity-results-by-indicator-category-card [item]="item"></app-entity-results-by-indicator-category-card>
        }
      </div>
    </div>
  </div>
</div>
